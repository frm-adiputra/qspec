{{define "MODEL"}}
// Package {{.Package}} {{.Description}}
package {{.Package}}

// DO NOT EDIT: Code generated by "qspec {{.SpecFile}}"

{{if .Imports}}
import (
	"database/sql"
	{{range .Imports}}"{{.}}"
	{{end}}
)
{{else}}
import "database/sql"
{{end}}

{{if .QueriesSequence -}}
const ({{range .QueriesSequence}}
	_{{.Name}}Stmt = `{{.CleanedStatement}}`{{end}}
)
{{- end}}

var (
	// DB defines the database that will be used for this model.
	DB *sql.DB
)

func getDB() *sql.DB {
	if DB == nil {
		panic("DB not set")
	}
	return DB
}

{{if .StructsSequence}}
{{range .StructsSequence}} {{template "STRUCT" .}} {{end}}
{{end}}

{{if .QueriesSequence}}
{{range .QueriesSequence}} {{template "QUERY" .}} {{end}}
{{end}}

{{end}}
